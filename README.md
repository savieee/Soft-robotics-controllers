# Soft bistable valve
A soft bistable valve is a device that has a membrane that opens or closes tubing depending on the way the membrane is flipped; acting analogously to a MOSFET transistor in an electrical circuit. The soft bistable valve can be configured as either an OR-gate, an AND-gate, or a NOT-gate.

## Link to supplemental resources
This file contains links to the supplemental information on how to construct the soft bistable valve. It also includes important physical considerations for the operation of the valve. 

* Soft Non-Volatile Memory for Non-Electronic Information Storage in Soft Robots  
M.P. Nemitz, C.K. Abrahamsson, L. Wille, D.J. Preston, A.A. Stokes, G.M. Whitesides  
[IEEE Soft Robotics Conference, New Haven, 2020](https://cpb-us-w2.wpmucdn.com/wp.wpi.edu/dist/e/484/files/2021/09/Soft_Non-Volatile_Memory_for_Non-Electronic_Information_Storage_in_Soft_Robots.pdf)  
* Digital Logic for Soft Devices  
D.J. Preston, P. Rothemund, H.J. Jiang, M.P. Nemitz, J. Rawson, Z. Suo, G.M. Whitesides  
[Proceedings of the National Academy of Sciences (PNAS), 1820672116, 2019](https://gmwgroup.harvard.edu/files/gmwgroup/files/1318.pdf)  
* A Soft Ring Oscillator  
D.J. Preston, H.J. Jiang, V. Sanchez, P. Rothemund, J. Rawson, M.P. Nemitz, W.-K. Lee, Z. Suo, C.J. Walsh, G.M. Whitesides  
[Science Robotics, 4(31), 2019](https://gmwgroup.harvard.edu/files/gmwgroup/files/1323.pdf)  
* A soft, bistable valve for autonomous control of soft actuators  
P. Rothemund, A. Ainla, L. Belding, D.J. Preston, S. Kurihara, Z. Suo, G.M. Whitesides  
[Science Robotics, 3(16), 2018](https://gmwgroup.harvard.edu/files/gmwgroup/files/1301.pdf)  

## Fabrication of a soft bistable valve
Please read all instruction before you begin the process. Once the elastomers are mixed there is limited time. Additional infomartion is avalible in the supplmental information. 

<img width="1183" alt="Screen Shot 2022-03-08 at 7 34 11 AM" src="https://user-images.githubusercontent.com/68814774/157252858-aac9fc8c-4152-4e48-b00f-7ba56cdcffba.png">


### Materials 
* Vacuum-chamber
* DragonSkin 10 NV
* Smooth Sil 950
* Mold Release Spray
* Gloves 
* Scale 
* Paper cup(s)
* Paper towels
* Wooden dowel(s) for mixing 
* Silicone pigment
* Molds (8 pieces, multiples fo some pieces will be required)
* Needles (10)
* Acrylic sheets (6, 2"x2"x1/8")
* 5 ml plastic syringe(s)
* Tweezers 
* Pliers (optional)
* Revolving wire puncher
* Vice (optional)

### Setting up

1. First gather all the materials on the list above.
2. Put on a set of gloves, open the vacuum chamber and connect it to a power supply. 
3. Place paper towels in the bottom of the vacuum chamber for easy clean up in future steps. 
4. Turn the scale on, place a paper cup on the scale, and zero the scale.
5. The molds need to be 3D printed before the fabrication process starts. Files to print the molds can be found in the supplemetal infomation linked above. Below are images of the required molds and assembly process. More detailed infomartion on assembly can be found in the supplemental information. 
![Soft bistable valve](https://user-images.githubusercontent.com/68814774/157264534-b7dc763c-bf70-4f52-82ab-320634461fac.jpg)


### Fabrication of body for soft bistable valve

#### Preparing the Elastomer

1. Take any elastomer (e.g., DragonSkin 10NV) and read the datasheet for the pot life, cure time, and the ratio the materials are poured in.  
    a. for DragonSkin 10NV the pot life is 15 minutes, the cure time is 75 minutes, and parts A and B should be poured in a 1:1 ratio by weight.  
2. If the elastomer is unopened, make two holes in the tops of each of the containers: one large hole for pouring and one smaller hole to allow airflow.

#### Preparing the Molds 

1. Create a designated area where the molds can cure; they will be difficult to move once they are filled with elastomer. 
2. Apply the mold release spray from ~30 cm away from the mold to thoroughly coat it. Do this for all molds and needles. 
3. Assemble 2 cap molds by putting the needles through the holes on the side, making sure to rest the needles on the pegs in the middle of the mold. 
4. To keep the needles secure, place an acrylic sheet at the ends of each needle pushing inward to make sure they arepressed against the pegs.

#### Mixing and Degassing the Elastomer
This section uses the mixing ratio for DragonSkin 10NV. 

1. Pour ~30 g of material A into the cup on the scale. Record the exact weight of material A, zero the scale, take a new paper towel to clean the rim of the container A.  
2. Repeat step (a) for material B, trying to match the weight of material B to the exact weight of material A.  Clean the rim of the container B with a new paper towel to mitigate the risk of curing the lids shut.  
3. Start the timer of the pot life as the chemical reactions have started. 
4. Take the paper cup off the scale and add pigment (~1 g) by dipping a wooden dowel slightly in the pigment. Then using that dowel slowly mix all parts until completly mixed together. Mix slowly to avoid introducing air bubbles.  
5. Place the paper cup with the mixed elastomer on top of the paper towel inside the vacuum chamber and close the lid of the vacuum chamber.  
6. Turn on the vacuum chamber using the correct valve orientation. Once started you will be able to see a rise of pressure on the gauge.   
7. Keep track of timer that was set for the pot life of the elastomer, you will want at least 3 minutes to pour into the molds. 
8. Watch for the frequency and size of air bubbles rising to the top of the mixed elastomer. 
9. When there are a few bubbles on the surface of the mixed elastomer around the perimeter of the paper cup, switch off the pump and release air from the vacuum chamber. Do this slowly, otherwise it could implode. 

#### Filling the Molds
Make sure all mold parts have been prepared before this step. Refer to the Preparing the Mold section above. Make sure to keep track of the timer set for the material pot life. 

##### Filling the Main Body Mold
1. Take the paper cup with the degasses elastomer and pour the mixture down the sides of the mold at a 45° angle, making sure to not fill the raised center portion at the bottom of the mold first. Rotate the mold while pouring to avoid creating trapped air bubbles.
2. Pour to the top of the mold.
3. Coat the lid of the main valve body mold by placing it at an 80° angle into the top of mixture in the top of the mold and rotating it slowly. Once the lid is nicely coated, rotate and push the cap to snuggly fit. Excess material will come out of the top holes.
4. Set the timer for curing. After done curing, carefully remove the molds and other supporting fixtures.

More detailed information can be found in the linked supplemental files. 

##### Filling the Valve Cap Molds
1. Being carful to not move the prepared mold, pour a small amount of the mixed and degassed elastomer on one side of the needles, avoid pouring directly over the needles. 
2. Wait for the material to settle and fill the area underneath the needles. 
3. Pour more elastomer to fill the rest of the mold. The needles should be completly covered in elastomer.
4. Use an extra needle (or any object with a sharp point) to carefully remove any air bubbles you may see in the elastomer. 
5. Slowly lower an acrylic sheet (one for each cap mold) at a ~20° angle on the top of the filled molds and push down.
6. Set the timer for curing. 
7. After done curing, carefully remove the parts from the molds.

More detailed information can be found in the linked supplemental files. 

### Fabrication of Tubing for Soft Bistable Valve
For the tubing you will need 2 materials. Repeat the steps in Mixing and Degassing the Elastomer above with ~10g total (~5g for part A and B each) for DragonSkin 10NV to make the tubing caps. Follow the steps 3-5 in Filling the Valve Cap Molds for filling the tubing cap molds. 

#### Preparing the Molds for Tubing 

1. Create a designated area where the molds can cure; they will be difficult to move once they are filled with elastomer. 
2. Place needles (6) though the holes in the small tubing cap mold part. 
3. Place the needles with caps into the main tubing mold body. Press firmly to secure. 
4. Align the lip of the bottom cap with the gap on the bottom of the main tubing body mold and press together. 

#### Mixing and Degassing the Elastomer for Tubing 
This section uses the mixing ratio for SmoothSil 950.

1. Pour ~30 g of material A into the cup on the scale. Record the exact weight of material A, zero the scale, take a new paper towel to clean the rim of the container A.  
2. Pour ~3 g of material B into the cup on the scale. Make sure that the final ratio of parts is 100A:10B. Take a new paper towel to clean the rim of the container B.  
3. Start the timer of the pot life as the chemical reactions have started. 
4. Using the woodel dowel slowly mix parts A and B until completly mixed together. Mix slowly to avoid introducing extra air bubbles.  
5. Place the paper cup with the mixed elastomer on top of the paper towel inside the vacuum chamber and close the lid of the vacuum chamber.  
6. Turn on the vacuum chamber using the correct valve orientation. Once started you will be able to see a rise of pressure on the gauge.   
7. Keep track of timer that was set for the pot life of the elastomer, you will want at least 6 minutes for the rest of the tubing molds. 
8. Watch for the frequency and size of air bubbles rising to the top of the mixed elastomer. 
9. When there are a few bubbles on the surface of the mixed elastomer around the perimeter of the paper cup, switch off the pump and release air from the vacuum chamber. Do this slowly, otherwise it could implode. 
10. Place the 5ml syringe into the degassed elastomer mixture and slowly pull the pluger until the syringe is full. **DO NOT throw away left over material. This will be used to fill thetubing connoctor molds. ** The steps following are to prepare the elastomer for the tubing mold. 
11. Place the filled syringe in a clean paper cup, tip down. Then place the cup into the vacuum chamber andclose the lid.
12. Turn on the vacuum chamber using the correct valve orientation. Once started you will be able to see a rise of pressure on the gauge.   
13. Keep track of timer that was set for the pot life of the elastomer, you will want at least 3 minutes to fill the tubing molds. 
14. Watch for material pushing out of the bottom of the syringe
15. Degas for ~2 minutes then switch off the pump and release air from the vacuum chamber. Do this slowly, otherwise the vacuum chamber could implode. 

#### Filling the Molds for tubing 
Make sure to preassemble all mold before this section. To make the tubing caps repeat the steps in Mixing and Degassing the Elastomer above with ~10g total (~5g for part A and B each) for DragonSkin 10NV to make the tubing caps. Follow the steps 3-5 in Filling the Valve Cap Molds for filling the tubing cap molds.

##### Filling the Tubing Connector Mold 
1. Using the left over degassed material, pour slowly into the tubing caps molds (2). Overfilling is okay. 
2. Using a needle (or any sharp object) remove any visible airbuble

##### Filling the Tubing Mold 
1. Place the tip of the filled and degassed syringe into the bottom of the pre-assembled tubing mold. 
2. Place the top of the mold where the needles stick out against a flat surface. We suggest a wall. If doing on a wall place paper towels under the area you will be using. 
3. While pressing the needles ends againts the wall, firmly press the needle caps and bottom cap of the tubing mold against the main body of the tubing mold. Using your body slowly being to inject the elastomer from the syringe into the mold. Do this very slowly making sure to keep pressues against the wall and on all caps of the mold. Make sure to slowly inject so that the subes will not have holes in the mwhen created. 
4. The mold is filled once the syringe is empty or the material beigns to escape from the edges around the tubing molds bottom cap. 
5. Place the filled mold on a table with the syringe still attached on top. 
6. Leave to cure. (18 hours for Smooth sil 950)
7. After done curing remove the syring and bottom cap. Throw away syringe. 
8. Use the tweezers to loosen the ends of the tubes exposed at the bottom. 
9. Slowly pull the needle caps and needles out of the main body mold. The use of pilers may be helpful. 
10. Use tweezers to remove any tubes stuck inside the main tube mold. 

### Assembly of the body and tubing 
Repeat steps 1-3 twice to make the top and bottom portions of the soft bistable valve. Be aware that the tubing is diffrent lenghts for diffrent sides of the bisatble valve. 

1. To attach the cut tubes (find specifcs in supplemetal information) and the tubing connector, place the tubes on the ends of needles and then put the needles though the tubing connectors making sure the flat side of the connector is against the ends of the tubes. Place a small amout of elastomer around the ends of the tubes and top of the tube connector to connec them. Wait to cure.  
2. Then take the cured subassembly from step 1 and place the tubing cap on the other side of th etubing connector. Use a small amout of elastomer around the perimeter to connect them, being very careful to get any elastomer inside the tubing connector. 
3. Take the cured sub assembly from step 2 and place the ends of the tubes into the valve body caps. Bend the part to securely get the tubing to fit into the holes. Place a small amount of elastomer around the bottom of the tubing. 
4. Use the revlolving wire puncher to make 1 hole in the top and bottom chamber of the soft bistable vlave main body. 
5. Using a small amount of elastomer attach the top and bottom tubing subassemblies to the main body of the soft bistable valve, one at a time. Use a vice or other equipment to add pressure to securly attach the tubing subassemblies to the main valve body. 
7. The device is ready for testing. The maximum pressure for operating the soft bistable valve with the above materials is 30 kPa. A pneumatic pump can be used to provide a positive pressure supply. 

More detailed information can be found in the linked supplemental files.

## Important Physical Considerations for soft bistable valve
1. Propagation delay: The propagation delay is dependent on the membrane thickness, opening angle of the membrane, material properties of the membrane, as well as the chamber volume and length of tubes between valves.
2. In a fluidic circuit as the number of soft bistable valves increases the propagation delay also increases.

More detailed information can be found in the linked supplemental files.

